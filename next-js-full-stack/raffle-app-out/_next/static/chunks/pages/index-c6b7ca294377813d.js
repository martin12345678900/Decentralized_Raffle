(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{75557:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(39961)}])},39961:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return v}});var a=n(85893),i=n(7160),r=n.n(i),u=n(83866);function s(){return(0,a.jsxs)("nav",{className:"p-5 border-b-2 flex flex-row",children:[(0,a.jsx)("h1",{className:"py-4 px-4 font-bold text-3xl",children:"Lottery"}),(0,a.jsx)("div",{className:"ml-auto py-2 px-4",children:(0,a.jsx)(u.NL,{moralisAuth:!1})})]})}var o=n(34051),p=n.n(o),c=n(67294),l=n(83078),y=JSON.parse('{"M":[{"inputs":[{"internalType":"uint256","name":"entranceFee","type":"uint256"},{"internalType":"address","name":"vrfCordinatorV2","type":"address"},{"internalType":"bytes32","name":"gasLane","type":"bytes32"},{"internalType":"uint64","name":"subscriptionId","type":"uint64"},{"internalType":"uint32","name":"callbackGasLimit","type":"uint32"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"have","type":"address"},{"internalType":"address","name":"want","type":"address"}],"name":"OnlyCoordinatorCanFulfill","type":"error"},{"inputs":[],"name":"Raffle__NotAdmin","type":"error"},{"inputs":[],"name":"Raffle__SendMoreToEnterRaffle","type":"error"},{"inputs":[],"name":"Raffle__TransferFailed","type":"error"},{"inputs":[],"name":"Raffle__UpkeepNotNeeded","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"player","type":"address"}],"name":"RaffleEntered","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"requestId","type":"uint256"}],"name":"RequestedRaffleWinner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"winner","type":"address"}],"name":"WinnerPicked","type":"event"},{"inputs":[],"name":"NUM_WORDS","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"REQUEST_CONFIRMATIONS","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"checkUpKeep","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"closeRaffle","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"enterRaffle","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getEntranceFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getNumWords","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"getNumberOfPlayers","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"getPlayer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRaffleState","outputs":[{"internalType":"enum Raffle.RaffleState","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRecentWinner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRequestConfirmations","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"i_admin","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"i_callbackGasLimit","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"i_entranceFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"i_gasLane","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"i_subscriptionId","outputs":[{"internalType":"uint64","name":"","type":"uint64"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"i_vrfCordinator","outputs":[{"internalType":"contract VRFCoordinatorV2Interface","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"requestId","type":"uint256"},{"internalType":"uint256[]","name":"randomWords","type":"uint256[]"}],"name":"rawFulfillRandomWords","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"s_players","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_raffleState","outputs":[{"internalType":"enum Raffle.RaffleState","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"s_recentWinner","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"}],"i":"0xDDacEF845E50d7BE60327595135f142AD93d7DB3"}');function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function d(t,e,n,a,i,r,u){try{var s=t[r](u),o=s.value}catch(p){return void n(p)}s.done?e(o):Promise.resolve(o).then(a,i)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var r=t.apply(e,n);function u(t){d(r,a,i,u,s,"next",t)}function s(t){d(r,a,i,u,s,"throw",t)}u(void 0)}))}}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,i,r=[],u=!0,s=!1;try{for(n=n.call(t);!(u=(a=n.next()).done)&&(r.push(a.value),!e||r.length!==e);u=!0);}catch(o){s=!0,i=o}finally{try{u||null==n.return||n.return()}finally{if(s)throw i}}return r}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(){var t=(0,l.Nr)().isWeb3Enabled,e=(0,l.JX)({abi:y.M,contractAddress:y.i,functionName:"enterRaffle",msgValue:"100000000000000000",params:{}}).runContractFunction,n=(0,c.useState)(""),i=n[0],r=n[1],u=(0,c.useState)(0),s=u[0],o=u[1],f=(0,c.useState)(!1),d=f[0],_=f[1],v=(0,l.JX)({abi:y.M,contractAddress:y.i,functionName:"getRecentWinner",params:{}}).runContractFunction,w=(0,l.JX)({abi:y.M,contractAddress:y.i,functionName:"i_admin",params:{}}).runContractFunction,h=(0,l.JX)({abi:y.M,contractAddress:y.i,functionName:"getNumberOfPlayers",params:{}}).runContractFunction,T=(0,l.JX)({abi:y.M,contractAddress:y.i,functionName:"closeRaffle",params:{}}).runContractFunction;return(0,c.useEffect)((function(){var t=function(){var t=m(p().mark((function t(){var e,n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=b,t.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return t.t1=t.sent,e=(0,t.t0)(t.t1,1),n=e[0],t.t2=_,t.t3=n.toLowerCase(),t.next=10,w();case 10:t.t4=t.sent.toLowerCase(),t.t5=t.t3===t.t4,(0,t.t2)(t.t5);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),(0,c.useEffect)((function(){var e=function(){var e=m(p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,v();case 3:n=e.sent,r(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),(0,c.useEffect)((function(){h().then((function(t){return o(t.toString())}))}),[]),(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:m(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:case"end":return t.stop()}}),t)}))),className:"rounded ml-auto font-bold bg-blue-500 p-2 mt-4",children:"Enter Lottery"}),(0,a.jsxs)("div",{children:["The Recent Winner is: ",i]}),(0,a.jsxs)("div",{children:["Number of players: ",s]}),(0,a.jsx)("div",{children:d&&(0,a.jsx)("button",{className:"rounded ml-auto bg-red-400 p-2 mt-5",onClick:m(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T();case 2:case"end":return t.stop()}}),t)}))),children:"Close Lottery"})})]})}function v(){var t=(0,l.Nr)().isWeb3Enabled;return(0,a.jsxs)("div",{className:r().container,children:[(0,a.jsx)(s,{}),t?(0,a.jsx)(_,{}):(0,a.jsx)("div",{children:"No metamask detected..."})]})}},7160:function(t){t.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}}},function(t){t.O(0,[268,170,774,888,179],(function(){return e=75557,t(t.s=e);var e}));var e=t.O();_N_E=e}]);